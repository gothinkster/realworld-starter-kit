(self.webpackChunkneo_mjs_realworld_example_app=self.webpackChunkneo_mjs_realworld_example_app||[]).push([[840],{1840:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var i=a(5557),l=a(2926),n=a(8510);class r extends i.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"RealWorld.view.article.TagListComponent",activeTag_:null,cls:["col-md-3"],tags_:[],_vdom:{cn:[{cls:["sidebar"],cn:[{tag:"p",html:"Popular Tags"},{cls:["tag-list"]}]}]}}}constructor(e){super(e),Neo.main.DomEvents.registerPreventDefaultTargets({name:"click",cls:"tag-pill"});let t=this,a=t.domListeners;a.push({click:{fn:t.onTagLinkClick,delegate:".tag-pill",scope:t}}),t.domListeners=a}afterSetActiveTag(e,t){void 0!==t&&this.fire("tagChange",{oldValue:t,value:e})}afterSetTags(e,t){let a=this,i=a.vdom;i.cn[0].cn[1].cn=[],Array.isArray(e)&&(e.forEach((e=>{i.cn[0].cn[1].cn.push({tag:"a",cls:["tag-pill","tag-default"],href:"",html:e,id:a.getTagVdomId(e)})})),a.vdom=i)}getTagId(e){return e.split("__")[1]}getTagVdomId(e){return this.id+"__"+e}onTagLinkClick(e){this.activeTag=this.getTagId(e.path[0].id)}}Neo.applyClassConfig(r);var s=a(1939);class o extends i.Z{static getConfig(){return{className:"RealWorld.view.HomeComponent",activeTag:null,articlePreviews_:null,cls:["home-page"],countArticles_:10,currentPage_:1,feeds_:[{name:"Your Feed",disabled:!0},{name:"Global Feed",active:!0}],loggedIn_:!1,pageSize_:10,previewComponents:[],tagList_:null,_vdom:{cn:[{cls:["banner"],cn:[{cls:["container"],cn:[{tag:"h1",cls:["logo-font"],html:"conduit"},{tag:"p",html:"A place to share your knowledge."}]}]},{cls:["container","page"],cn:[{cls:["row"],cn:[{cls:["col-md-9"],cn:[{cls:["feed-toggle"],cn:[{tag:"ul",cls:["nav","nav-pills","outline-active"],flag:"feed-header",cn:[]}]},{tag:"nav",cn:[{tag:"ul",cls:["pagination"],flag:"pagination"}]}]}]}]}]}}}constructor(e){super(e),Neo.main.DomEvents.registerPreventDefaultTargets({name:"click",cls:"prevent-click"});let t=this,a=t.domListeners;a.push({click:{fn:t.onNavLinkClick,delegate:".nav-link",scope:t}},{click:{fn:t.onPageNavLinkClick,delegate:".page-link",scope:t}}),t.domListeners=a,t.getController().on({afterSetCurrentUser:t.onCurrentUserChange,scope:t})}onConstructed(){super.onConstructed();let e=this,t=e.vdom;e.tagList=Neo.create({module:r,parentId:e.id,listeners:{tagChange:e.onTagChange,scope:e}}),t.cn[1].cn[0].cn.push(e.tagList.vdom),e.vdom=t}afterSetArticlePreviews(e,t){let a,i=this,l=i.getContainer(),r=l.cn.pop(),s=i.vdom;l.cn=[l.cn.shift()],Array.isArray(e)&&e.forEach(((e,t)=>{a={author:e.author.username,createdAt:e.createdAt,description:e.description,favorited:e.favorited,favoritesCount:e.favoritesCount,slug:e.slug,tagList:e.tagList,title:e.title,userImage:e.author.image},i.previewComponents[t]?i.previewComponents[t].set(a,!0):i.previewComponents[t]=Neo.create({module:n.Z,parentId:i.id,...a}),l.cn.push(i.previewComponents[t].vdom)})),l.cn.push(r),i.vdom=s}afterSetCountArticles(e,t){let a,i=this,l=i.vdom,n=s.Z.getByFlag(l,"pagination"),r=i.pageSize,o=Math.ceil(e/r),c=i.currentPage,g=1;if(o<2);else for(n.cn=[];g<=o;g++)a=["page-item"],g===c&&a.push("active"),n.cn.push({tag:"li",cls:a,cn:[{tag:"a",cls:["page-link","prevent-click"],id:i.getNavLinkVdomId(g),href:"",html:g}]});i.vdom=l}afterSetCurrentPage(e,t){let a,i,n=this,r=n.vdom;n.mounted&&(a=s.Z.findVdomChild(r,n.getNavLinkVdomId(e)).parentNode,i=s.Z.findVdomChild(r,n.getNavLinkVdomId(t)).parentNode,l.Z.add(a.cls,"active"),l.Z.remove(i.cls,"active"),n.vdom=r,n.getController()._articlesOffset=(e-1)*n.pageSize,n.getArticles(),Neo.main.DomAccess.windowScrollTo({}))}afterSetFeeds(e,t){let a,i=this,l=i.vdom,n=s.Z.getByFlag(l,"feed-header");n.cn=[],e.forEach(((e,t)=>{a=["prevent-click","nav-link"],e.active&&a.push("active"),e.disabled&&a.push("disabled"),n.cn.push({tag:"li",cls:["nav-item"],id:i.id+"__nav-item_"+t,cn:[{tag:"a",cls:a,href:"",html:e.name,id:i.id+"__nav-item-link_"+t}]})}))}afterSetLoggedIn(e,t){let a=this,i=a.vdom,n=s.Z.findVdomChild(i,a.id+"__nav-item-link_0").vdom;l.Z[e?"remove":"add"](n.cls,"disabled"),a.vdom=i}afterSetPageSize(e,t){let a=0;for(console.log("afterSetPageSize",e);a<e;a++);}getArticleId(e){return this.id+"__"+e}getArticles(e={},t={}){let a=this;a.activeTag&&(e={tag:a.activeTag,...e}),a.getController().getArticles(e,t).then((e=>{a.set({articlePreviews:e.json.articles,countArticles:e.json.articlesCount})}))}getContainer(){let e=s.Z.findVdomChild(this.vdom,{cls:"col-md-9"});return e&&e.vdom}getNavLinkId(e){return parseInt(e.split("__")[1])}getNavLinkVdomId(e){return this.id+"__"+e}onNavLinkClick(e){let t=this,a=t.vdom,i=s.Z.findVdomChild(a,e.path[0].id),n=s.Z.getByFlag(a,"feed-header"),r={};if(!i.vdom.cls.includes("disabled")){switch(i.vdom.html){case"Global Feed":t.activeTag=null;break;case"Your Feed":t.activeTag=null,r={slug:"feed"};break;default:t.activeTag=i.vdom.html.substring(2)}n.cn.forEach((e=>{l.Z[e.id===i.parentNode.id?"add":"remove"](e.cn[0].cls,"active")})),t._currentPage=1,t.vdom=a,t.getController()._articlesOffset=0,t.getArticles({},r)}}onCurrentUserChange(e){this.loggedIn=!!e}onPageNavLinkClick(e){this.currentPage=this.getNavLinkId(e.path[0].id)}onTagChange(e){let t=this,a=t.feeds,i="# "+e.value;a.forEach((e=>{e.active=!1})),a.length<3?a.push({active:!0,name:i}):Object.assign(a[2],{active:!0,name:i}),t.activeTag=e.value,t._currentPage=1,t.feeds=a,t.getController()._articlesOffset=0,t.getArticles({tag:e.value})}}Neo.applyClassConfig(o)},8510:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(5557),l=a(2926),n=a(1939);class r extends i.Z{static getConfig(){return{className:"RealWorld.view.article.PreviewComponent",author_:null,cls:["article-preview"],createdAt_:null,description_:null,favorited_:!1,favoritesCount_:null,slug_:null,tagList_:null,title_:null,userImage_:null,_vdom:{cn:[{cls:["article-meta"],cn:[{tag:"a",flag:"userImageLink",cn:[{tag:"img"}]},{cls:["info"],cn:[{tag:"a",cls:["author"],flag:"author"},{tag:"span",cls:["date"],flag:"createdAt"}]},{tag:"button",cls:["btn","btn-sm","pull-xs-right"],cn:[{tag:"i",cls:["ion-heart"]},{vtype:"text",flag:"favoritesCount"}]}]},{tag:"a",cls:["preview-link"],flag:"preview-link",cn:[{tag:"h1",flag:"title"},{tag:"p",flag:"description"},{tag:"span",html:"Read more..."}]}]}}}constructor(e){super(e);let t=this,a=t.domListeners;a.push({click:{fn:t.onFavoriteButtonClick,delegate:".pull-xs-right",scope:t}}),t.domListeners=a}afterSetAuthor(e,t){let a=this.vdom,i=n.Z.getByFlag(a,"author"),l="#/profile/"+e;i.href=l,i.html=e,n.Z.getByFlag(a,"userImageLink").href=l,this.vdom=a}afterSetCreatedAt(e,t){let a=this.vdom;n.Z.getByFlag(a,"createdAt").html=new Intl.DateTimeFormat("en-US",{day:"numeric",month:"long",year:"numeric"}).format(new Date(e)),this.vdom=a}afterSetDescription(e,t){let a=this.vdom;n.Z.getByFlag(a,"description").html=e,this.vdom=a}afterSetFavorited(e,t){let a=this,i=a.vdom,n=i.cn[0].cn[2];l.Z.add(n.cls,e?"btn-primary":"btn-outline-primary"),l.Z.remove(n.cls,e?"btn-outline-primary":"btn-primary"),a.vdom=i,Neo.isBoolean(t)&&a.getController().favoriteArticle(a.slug,e)}afterSetFavoritesCount(e,t){let a=this.vdom;n.Z.getByFlag(a,"favoritesCount").html=" "+e,this.vdom=a}afterSetSlug(e,t){let a=this.vdom;n.Z.getByFlag(a,"preview-link").href="#/article/"+e,this.vdom=a}afterSetTagList(e,t){let a,i=this.vdom;i.cn[1].cn[3]&&i.cn[1].cn.pop(),Array.isArray(e)&&e.length>0&&(a={tag:"ul",cls:["tag-list"],cn:[]},e.forEach((e=>{a.cn.push({tag:"li",cls:["tag-default","tag-pill","tag-outline"],html:e})})),i.cn[1].cn.push(a),this.vdom=i)}afterSetTitle(e,t){let a=this.vdom;n.Z.getByFlag(a,"title").html=e,this.vdom=a}afterSetUserImage(e,t){let a=this.vdom;n.Z.getByFlag(a,"userImageLink").cn[0].src=e,this.vdom=a}onFavoriteButtonClick(e){let t=this,a=!t.favorited;t.set({favorited:a,favoritesCount:a?t.favoritesCount+1:t.favoritesCount-1})}}Neo.applyClassConfig(r)}}]);