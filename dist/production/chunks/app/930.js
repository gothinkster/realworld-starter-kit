(self.webpackChunkneo_mjs_realworld_example_app=self.webpackChunkneo_mjs_realworld_example_app||[]).push([[930],{930:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var s=n(5557),r=n(1939);class o extends s.Z{static getConfig(){return{className:"RealWorld.view.user.SignUpComponent",cls:["auth-page"],errors_:[],fieldsets_:[{name:"username",placeholder:"Your Name",type:"text"},{name:"email",placeholder:"Email",type:"text"},{name:"password",placeholder:"Password",type:"password"}],keys:{Enter:"onKeyDownEnter"},mode_:"signup",_vdom:{cn:[{cls:["container","page"],cn:[{cls:["row"],cn:[{cls:["col-md-6","offset-md-3","col-xs-12"],cn:[{tag:"h1",cls:["text-xs-center"]},{tag:"p",cls:["text-xs-center"],cn:[{tag:"a"}]},{tag:"ul",cls:["error-messages"]},{tag:"form",cn:[{tag:"fieldset",cn:[{tag:"button",cls:["btn","btn-lg","btn-primary","pull-xs-right"],type:"button"}]}]}]}]}]}]}}}constructor(e){super(e);let t=this,n=t.domListeners;n.push({click:{fn:t.onSubmitButtonClick,delegate:".btn-primary",scope:t}}),t.domListeners=n}afterSetErrors(e,t){let n=this,s=n.getErrorMessagesList(),r=n.vdom;s.cn=[],Object.entries(e||{}).forEach((([e,t])=>{s.cn.push({tag:"li",html:e+" "+t.join(" and ")})})),n.vdom=r}afterSetFieldsets(e,t){let n=this,s=n.vdom,r=s.cn[0].cn[0].cn[0].cn[3];e.slice().reverse().forEach((e=>{r.cn[0].cn.unshift({tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control","form-control-lg"],id:n.getInputId(e.name),name:e.name,placeholder:e.placeholder,type:e.type}]})})),n.vdom=s}afterSetMode(e,t){let n="signup"===e,s=this.vdom,r=s.cn[0].cn[0].cn[0];r.cn[0].html=n?"Sign up":"Sign in",r.cn[1].cn[0].href=n?"#/login":"#/register",r.cn[1].cn[0].html=n?"Have an account?":"Need an account?",r.cn[3].cn[0].cn[0].removeDom=!n,r.cn[3].cn[0].cn[3].html=n?"Sign up":"Sign in",this.vdom=s}getErrorMessagesList(){let e=r.Z.findVdomChild(this.vdom,{cls:"error-messages"});return e&&e.vdom}getInputId(e){return this.id+"__"+e}onKeyDownEnter(){this.onSubmitButtonClick()}onSubmitButtonClick(){let e,t=this,n=t.getController(),s="signup"===t.mode,r=[t.getInputId("email"),t.getInputId("password")];s&&r.push(t.getInputId("username")),Neo.main.DomAccess.getAttributes({id:r,attributes:"value"}).then((r=>{e={user:{email:r[0].value,password:r[1].value}},s&&(e.user.username=r[2].value),n.saveUser({data:JSON.stringify(e),slug:s?"":"/login"}).then((e=>{const s=e.json.errors;s?t.errors=s:n.login(e.json.user)}))}))}}Neo.applyClassConfig(o)}}]);