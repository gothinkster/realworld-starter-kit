(self.webpackChunkneo_mjs_realworld_example_app=self.webpackChunkneo_mjs_realworld_example_app||[]).push([[398],{634:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var s=n(643);class o extends s.Z{static getConfig(){return{className:"Neo.main.addon.WindowPosition",intervalId:null,intervalTime:20,remote:{app:["registerWindow","unregisterWindow"]},screenLeft:null,screenTop:null,singleton:!0,windows:{}}}constructor(e){super(e);let t=this,n=window;t.screenLeft=n.screenLeft,t.screenTop=n.screenTop,n.addEventListener("mouseout",t.onMouseOut.bind(t)),n.addEventListener("resize",t.onResize.bind(t))}adjustPositions(e){let t,n;Object.entries(this.windows).forEach((([s,o])=>{switch(o.dock){case"bottom":t=e.screenLeft,n=e.outerHeight+e.screenTop-50;break;case"left":t=e.screenLeft-o.size,n=e.screenTop+28;break;case"right":t=e.outerWidth+e.screenLeft,n=e.screenTop+28;break;case"top":t=e.screenLeft,n=e.screenTop-o.size}Neo.Main.windowMoveTo({windowName:s,x:t,y:n})}))}checkMovement(){let e,t=this,n=Neo.worker.Manager,s=window,o=s.screenLeft,i=s.screenTop;t.screenLeft===o&&t.screenTop===i||(e=Neo.Main.getWindowData(),t.adjustPositions(e),n.sendMessage("app",{action:"windowPositionChange",data:{appName:n.appName,...e}}),t.screenLeft=o,t.screenTop=i)}onMouseOut(e){let t=this;e.toElement?t.intervalId&&(clearInterval(t.intervalId),t.intervalId=null):t.intervalId||(t.intervalId=setInterval(t.checkMovement.bind(t),t.intervalTime))}onResize(e){let t,n,s=Neo.Main.getWindowData();Object.entries(this.windows).forEach((([e,o])=>{switch(o.dock){case"bottom":case"top":n=s.outerWidth;break;case"left":case"right":t=s.outerHeight-28}Neo.Main.windowResizeTo({height:t,width:n,windowName:e})})),this.adjustPositions(s)}registerWindow(e){this.windows[e.name]=e}unregisterWindow(e){delete this.windows[e.name]}}Neo.applyClassConfig(o);let i=Neo.create(o);Neo.applyToGlobalNs(i);const a=i}}]);